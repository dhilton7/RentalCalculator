<div class="row">
	<div class="col-lg-12">
		<div class="section-header">
			<h2>Reports</h2>
			<%= link_to "New Monthly Report", new_property_monthly_report_path(property), class: "btn btn-primary" %>
		</div>
	</div>
</div>
<hr>

<div class="row">
	<div class="col-lg-4">
		<div class="top-display">
			<label>Total Cashflow</label>
			<p><%= number_to_currency(property.actual_cash_flow) %></p>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="top-display">
			<label>Total Expenses</label>
			<p><%= number_to_currency(property.total_expenses) %></p>
		</div>
	</div>
	<div class="col-lg-4 report-hero">
		<div class="top-display">
			<label>Net Operating Income</label>
			<%# # TODO: Change to NOI  %>
			<p><%= number_to_currency(property.actual_cash_flow) %></p>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-12">
		<table class="table">
			<thead>
			<tr>
				<th>Report Month</th>
				<th>Income</th>
				<th>Expenses</th>
				<th>Cash Flow</th>
				<th></th>
			</tr>
			</thead>
			<tbody>
			<% property.monthly_reports.each do |report| %>
				<tr>
					<td><%= report.month_year %></td>
					<td><%= number_to_currency(report.total_income) %></td>
					<td><%= number_to_currency(report.total_expenses) %></td>
					<td><%= number_to_currency(report.cash_flow) %></td>
					<td><%= link_to "View", property_monthly_report_path(property, report), class: 'btn btn-sm btn-info' %> <%= link_to "Edit", edit_property_monthly_report_path(property, report), class: 'btn btn-warning btn-sm' %> <%= link_to "Delete", property_monthly_report_path(property, report), method: :delete, class: 'btn btn-danger btn-sm', data: {confirm: "Are you sure you want to delete this report?"} %></td>
				</tr>
			<% end %>
			</tbody>
		</table>
	</div>
</div>